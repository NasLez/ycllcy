{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ProjectDetail\",\n  data() {\n    return {\n      showChannel: \"\",\n      userinfo: {\n        \"id\": \"\",\n        \"username\": \"\",\n        \"phone\": \"\",\n        \"email\": \"\",\n        \"school\": \"\",\n        \"password\": \"\",\n        \"isAdmin\": \"\",\n        \"code\": \"\",\n        \"name\": \"\"\n      },\n      imageUrl: '',\n      project: {\n        name: '',\n        uploaderEmail: '',\n        maintainer: '',\n        channelId: '',\n        description: '',\n        company: '',\n        money: '',\n        setTime: '',\n        setYear: ''\n      }\n    };\n  },\n  created() {\n    let that = this;\n    // this.$data.project.channelId = this.$route.query.channelId\n    this.$data.project.channelId = 5;\n    console.log(this.$route.query.channelId);\n    // this.$data.userinfo.email = this.$route.query.email\n    this.$data.userinfo.email = \"10204500101@stu.ecnu.edu.cn\";\n    console.log(this.$route.query.email);\n    getChannelAndUser(this.$data.project.channelId, this.$data.userinfo.email);\n    function getChannelAndUser(channel, email) {\n      axios.get(`mu/getUsernames/email=${email}`, {\n        email: email\n      }).then(res => {\n        console.log(res.data);\n        console.log(\"打印用户信息\");\n        that.$data.userinfo.id = res.data.id;\n        that.$data.userinfo.username = res.data.username;\n        that.$data.userinfo.isAdmin = res.data.isAdmin;\n        that.$data.userinfo.name = res.data.name;\n        that.$data.userinfo.phone = res.data.phone;\n        that.$data.userinfo.email = res.data.email;\n        that.$data.userinfo.school = res.data.school;\n        that.$data.userinfo.password = res.data.password;\n        that.$data.userinfo.code = res.data.code;\n        that.$data.project.uploaderEmail = res.data.email;\n      });\n      axios.get(`mu/getChannelById?id=${channel}`, {\n        id: channel\n      }).then(res => {\n        console.log(res.data);\n        console.log(\"打印通道信息\");\n        that.$data.project.channelId = res.data.id;\n        that.$data.showChannel = res.data.name;\n      });\n    }\n  },\n  methods: {\n    onSubmit() {\n      console.log('submit!');\n    }\n  }\n};","map":{"version":3,"mappings":"AAsBA;AAEA;EACAA;EAEAC;IACA;MACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACAC;MACAC;QACAL;QACAM;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACAC;IACA;IACA;IACAA;IACAC;IAEA;MACAC;QACAC;MACA;QACAH;QACAA;QACAI;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA;MACAF;QACAG;MACA;QACAL;QACAA;QACAI;QACAA;MACA;IACA;EACA;EACAE;IACAC;MACAP;IACA;EACA;AAEA","names":["name","data","showChannel","userinfo","imageUrl","project","uploaderEmail","maintainer","channelId","description","company","money","setTime","setYear","created","console","getChannelAndUser","axios","email","that","id","methods","onSubmit"],"sourceRoot":"src/view","sources":["ProjectDetail.vue"],"sourcesContent":["<template>\r\n  <el-descriptions title=\"项目信息\">\r\n    <el-descriptions-item label=\"项目名称\">{{project.name}}</el-descriptions-item>\r\n    <el-descriptions-item label=\"负责人\">{{ project.maintainer }}</el-descriptions-item>\r\n    <el-descriptions-item label=\"项目简介\">{{ project.description }}</el-descriptions-item>\r\n    <el-descriptions-item label=\"项目类别\">\r\n      <el-tag size=\"small\">{{ project.channelId }}</el-tag>\r\n    </el-descriptions-item>\r\n    <el-descriptions-item label=\"负责单位\">{{ project.company }}</el-descriptions-item>\r\n    <el-descriptions-item label=\"起止年份\">{{project.setTime}}</el-descriptions-item>\r\n    <el-descriptions-item label=\"金额\"></el-descriptions-item>\r\n    <el-descriptions-item label=\"上传时间\"></el-descriptions-item>\r\n\r\n    <el-form-item>\r\n      <el-button type=\"primary\" @click=\"onSubmit\">上传项目</el-button>\r\n      <el-button>取消</el-button>\r\n    </el-form-item>\r\n  </el-descriptions>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"ProjectDetail\",\r\n\r\n  data(){\r\n    return{\r\n      showChannel:\"\",\r\n      userinfo: {\r\n        \"id\":\"\",\r\n        \"username\": \"\",\r\n        \"phone\": \"\",\r\n        \"email\": \"\",\r\n        \"school\": \"\",\r\n        \"password\": \"\",\r\n        \"isAdmin\": \"\",\r\n        \"code\": \"\",\r\n        \"name\": \"\"\r\n      },\r\n      imageUrl: '',\r\n      project: {\r\n        name: '',\r\n        uploaderEmail: '',\r\n        maintainer: '',\r\n        channelId: '',\r\n        description: '',\r\n        company: '',\r\n        money: '',\r\n        setTime: '',\r\n        setYear: ''\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    let that = this;\r\n    // this.$data.project.channelId = this.$route.query.channelId\r\n    this.$data.project.channelId =5\r\n    console.log(this.$route.query.channelId)\r\n    // this.$data.userinfo.email = this.$route.query.email\r\n    this.$data.userinfo.email =\"10204500101@stu.ecnu.edu.cn\"\r\n    console.log(this.$route.query.email)\r\n    getChannelAndUser(this.$data.project.channelId, this.$data.userinfo.email);\r\n\r\n    function getChannelAndUser(channel, email) {\r\n      axios.get(`mu/getUsernames/email=${email}`, {\r\n        email: email,\r\n      }).then(res => {\r\n        console.log(res.data);\r\n        console.log(\"打印用户信息\");\r\n        that.$data.userinfo.id = res.data.id;\r\n        that.$data.userinfo.username = res.data.username;\r\n        that.$data.userinfo.isAdmin = res.data.isAdmin;\r\n        that.$data.userinfo.name = res.data.name;\r\n        that.$data.userinfo.phone = res.data.phone;\r\n        that.$data.userinfo.email = res.data.email;\r\n        that.$data.userinfo.school = res.data.school;\r\n        that.$data.userinfo.password = res.data.password;\r\n        that.$data.userinfo.code = res.data.code;\r\n        that.$data.project.uploaderEmail = res.data.email;\r\n      });\r\n      axios.get(`mu/getChannelById?id=${channel}`, {\r\n        id: channel\r\n      }).then(res => {\r\n        console.log(res.data);\r\n        console.log(\"打印通道信息\")\r\n        that.$data.project.channelId = res.data.id;\r\n        that.$data.showChannel = res.data.name;\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      console.log('submit!');\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}